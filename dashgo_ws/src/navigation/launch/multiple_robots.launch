<?xml version="1.0"?>
<launch>
  <!-- Start RVIZ simulator -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find config_files)/rviz/multiple_robots.rviz"/>

  <!-- Map server initialization, outside namespaces -->
  <node name="map_server" pkg="map_server" type="map_server" output="screen"
        args="$(find config_files)/occupancy_grids/TMR_2019.yaml">
        <param name="frame_id" value="/map"/>
  </node>

  <!-- TODO: add robot display (change frames of URDF) -->

  <!-- Definition of robots, havind for each robot namespace:
    - Nav launcher (laser and mobile base simul, amcl)
    - Move base (path (local & global) planner, costmaps)
   -->
  <group ns="robot_0">

    <include file="src/navigation/launch/nav.launch">
      <arg name="ns" value="robot_0" />
    </include>
    <include file="src/navigation/launch/move_base.launch">
      <arg name="ns" value="robot_0" />
    </include>
  </group>

  <group ns="robot_1">
    <include file="src/navigation/launch/nav.launch">
      <arg name="ns" value="robot_1" />
    </include>
    <include file="src/navigation/launch/move_base.launch">
      <arg name="ns" value="robot_1" />
    </include>

  </group>

</launch>